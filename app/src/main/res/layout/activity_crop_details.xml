<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@android:color/white"
    tools:context=".views.CropDetailsActivity">

    <!-- Guidelines -->
    <androidx.constraintlayout.widget.Guideline
        android:id="@+id/guideline1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        app:layout_constraintGuide_begin="24dp" />

    <androidx.constraintlayout.widget.Guideline
        android:id="@+id/guideline2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        app:layout_constraintGuide_end="24dp" />

    <!-- Header with back and language toggle -->
    <com.google.android.material.card.MaterialCardView
        android:id="@+id/headerCard"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:cardElevation="4dp"
        app:cardCornerRadius="0dp">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="64dp"
            android:paddingStart="8dp"
            android:paddingEnd="8dp">

            <include
                android:id="@+id/backButton"
                layout="@layout/back_button"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                app:layout_constraintBottom_toBottomOf="parent" />

            <TextView
                android:id="@+id/headerTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="@string/header_crop_details"
                android:textColor="@color/dark_green"
                android:textSize="24sp"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                app:layout_constraintVertical_bias="0.81" />

<!--            <include-->
<!--                android:id="@+id/langToggle"-->
<!--                layout="@layout/lang_toggle"-->
<!--                app:layout_constraintEnd_toEndOf="parent"-->
<!--                app:layout_constraintTop_toTopOf="parent"-->
<!--                app:layout_constraintBottom_toBottomOf="parent"/>-->
        </androidx.constraintlayout.widget.ConstraintLayout>
    </com.google.android.material.card.MaterialCardView>

    <!-- Main Scrollable Content -->
    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="0dp"
        app:layout_constraintTop_toBottomOf="@id/headerCard"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintStart_toStartOf="@id/guideline1"
        app:layout_constraintEnd_toEndOf="@id/guideline2">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="24dp">

            <de.hdodenhof.circleimageview.CircleImageView
                android:id="@+id/profile_image"
                android:layout_width="150dp"
                android:layout_gravity="center"
                android:layout_height="150dp"
                android:src="@drawable/bg_wheat"
                app:civ_border_color="@color/white"
                app:civ_border_width="3dp" />

            <TextView
                android:id="@+id/cropName"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Rice  |  धान"
                android:textSize="22sp"
                android:textStyle="bold"
                android:textColor="@android:color/black"
                android:layout_gravity="center"
                android:layout_marginBottom="8dp" />

            <LinearLayout
                android:id="@+id/categoryScroll"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_gravity="center"
                android:layout_marginTop="8dp"
                android:overScrollMode="never"
                android:scrollbars="none"
                >
                <com.google.android.material.chip.ChipGroup
                    android:id="@+id/chipGroupCategories"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                   android:layout_gravity="center"
                    app:singleSelection="true"
                    app:selectionRequired="true"
                    app:chipSpacingHorizontal="8dp">

                    <com.google.android.material.chip.Chip
                        style="@style/CategoryChipStyle"
                        android:layout_width="85dp"
                        android:text="Overview"
                        android:tag="overview"

                        android:textAlignment="center"
                        android:checked="true"/>

                    <com.google.android.material.chip.Chip
                        style="@style/CategoryChipStyle"
                        android:layout_width="85dp"
                        android:textAlignment="center"
                        android:text="Steps"
                        android:tag="steps" />

                    <com.google.android.material.chip.Chip
                        style="@style/CategoryChipStyle"
                        android:layout_width="85dp"
                        android:textAlignment="center"
                        android:text="Nutrients"
                        android:tag="nutrients"/>

                </com.google.android.material.chip.ChipGroup>
            </LinearLayout>
            <!-- Overview Content -->
            <LinearLayout
                android:id="@+id/layoutOverview"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:visibility="visible"
                android:layout_marginTop="16dp">

                <!-- Static Label -->
                <TextView
                    android:text="@string/label_description"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:textStyle="bold"
                    android:textColor="@color/black"
                    android:textSize="22sp"

                    android:layout_marginBottom="8dp"/>

                <!-- Populated Rich Text Area -->
                <TextView
                    android:id="@+id/tvRichDescription"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:textSize="16sp"
                    android:text="Start by plowing the wheat field 2–3 times to break up soil clumps and remove previous crop residues. This improves soil aeration and water absorption, ensuring proper root development. It is essential to use a rotavator or harrow for finer tilth, depending on field condition.

Incorporate well-decomposed organic compost or farmyard manure (FYM) to enhance soil fertility and structure. After this, level the field to avoid waterlogging, especially in areas with poor drainage. Proper land preparation sets the foundation for uniform seed germination and healthy crop growth."
                    android:lineSpacingExtra="4dp"
                    android:textColor="@color/black"
                    android:layout_marginBottom="16dp"/>
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:weightSum="2">
                    <LinearLayout
                        android:orientation="horizontal"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:weightSum="2"
                        android:layout_marginBottom="16dp">

                        <!-- Duration -->
                        <LinearLayout
                            android:layout_weight="1"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:orientation="vertical"
                            android:padding="12dp"
                            android:layout_marginEnd="8dp"
                            android:background="@drawable/bg_info_box"
                            android:backgroundTint="#FFDDAA">

                            <LinearLayout
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"
                                android:orientation="horizontal"
                                android:gravity="center_vertical"
                                android:layout_marginBottom="4dp">

                                <ImageView
                                    android:layout_width="20dp"
                                    android:layout_height="20dp"
                                    android:src="@drawable/ic_duration"
                                    app:tint="#F57C00"
                                    android:layout_marginEnd="6dp" />

                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="@string/label_duration"
                                    android:textColor="#F57C00"
                                    android:textSize="20sp"
                                    android:textStyle="bold" />
                            </LinearLayout>

                            <TextView
                                android:id="@+id/tvDuration"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="120–150 Days"
                                android:textSize="18sp"
                                android:textColor="#000000"
                                android:textStyle="bold" />
                        </LinearLayout>

                        <!-- pH Level -->
                        <LinearLayout
                            android:layout_weight="1"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:orientation="vertical"
                            android:padding="12dp"
                            android:layout_marginEnd="8dp"
                            android:background="@drawable/bg_info_box"
                            android:backgroundTint="#EFF6FF">

                            <LinearLayout
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"
                                android:orientation="horizontal"
                                android:gravity="center_vertical"
                                android:layout_marginBottom="4dp">

                                <ImageView
                                    android:layout_width="20dp"
                                    android:layout_height="20dp"
                                    android:src="@drawable/ic_ph"
                                    app:tint="#1565C0"
                                    android:layout_marginEnd="6dp" />

                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="@string/label_ph_level"
                                    android:textColor="#1565C0"
                                    android:textSize="20sp"
                                    android:textStyle="bold" />
                            </LinearLayout>

                            <TextView
                                android:id="@+id/tvPHLevel"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="5.5 - 6.5"
                                android:textSize="18sp"
                                android:textColor="#000000"
                                android:textStyle="bold" />
                        </LinearLayout>

                    </LinearLayout>
                    <!-- Temperature -->

                    <LinearLayout
                        android:orientation="horizontal"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:weightSum="2"
                        android:layout_marginBottom="16dp">
                        <LinearLayout
                            android:layout_weight="1"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:orientation="vertical"
                            android:padding="12dp"
                            android:layout_marginEnd="8dp"
                            android:background="@drawable/bg_info_box"
                            android:backgroundTint="#FFBFA7">

                            <LinearLayout
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"
                                android:orientation="horizontal"
                                android:gravity="center_vertical"
                                android:layout_marginBottom="4dp">

                                <ImageView
                                    android:layout_width="20dp"
                                    android:layout_height="20dp"
                                    android:src="@drawable/ic_temperature"
                                    app:tint="#D84315"
                                    android:layout_marginEnd="6dp" />

                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="@string/label_temperature"
                                    android:textColor="#D84315"
                                    android:textSize="20sp"
                                    android:textStyle="bold" />
                            </LinearLayout>

                            <TextView
                                android:id="@+id/tvTemperature"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="20°C - 35°C"
                                android:textSize="18sp"
                                android:textColor="#000000"
                                android:textStyle="bold" />
                        </LinearLayout>
                    </LinearLayout>


                </LinearLayout>

            </LinearLayout>

            <!-- Steps Content (HTML Rich Text) -->
            <LinearLayout
                android:id="@+id/layoutSteps"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:visibility="gone"
                android:layout_marginTop="16dp"/>

            <LinearLayout
                android:id="@+id/layoutNutrients"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:visibility="gone"
                android:layout_marginTop="16dp"/>





            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="@string/label_you_might_also_like"
                android:textSize="22sp"
                android:textStyle="bold"
                android:textColor="@color/black"
                android:layout_marginTop="24dp"
                android:layout_marginBottom="8dp" />

            <androidx.recyclerview.widget.RecyclerView
                android:id="@+id/rvYouMayAlsoLike"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="8dp"
                tools:listitem="@layout/item_crop_suggestion"
                android:overScrollMode="never"
                android:scrollbars="none"
                android:clipToPadding="false"
                android:paddingStart="4dp"
                android:paddingEnd="4dp" />
        </LinearLayout>
    </ScrollView>
</androidx.constraintlayout.widget.ConstraintLayout>
